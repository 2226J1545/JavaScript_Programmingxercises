<!-- // Use the countries information, in the data folder. Sort countries by name, by capital, by population

// *** Find the 10 most spoken languages:

// Your output should look like this
console.log(mostSpokenLanguages(countries, 10))
[
{country: 'English',count:91},
{country: 'French',count:45},
{country: 'Arabic',count:25},
{country: 'Spanish',count:24},
{country:'Russian',count:9},
{country:'Portuguese', count:9},
{country:'Dutch',count:8},
{country:'German',count:7},
{country:'Chinese',count:5},
{country:'Swahili',count:4}
]

// Your output should look like this
console.log(mostSpokenLanguages(countries, 3))
[
{country: 'English',count: 91},
{country: 'French',count: 45},
{country: 'Arabic',count: 25}
]


// *** Use countries_data.js file create a function which create the ten most populated countries

console.log(mostPopulatedCountries(countries, 10))

[
{country: 'China', population: 1377422166},
{country: 'India', population: 1295210000},
{country: 'United States of America', population: 323947000},
{country: 'Indonesia', population: 258705000},
{country: 'Brazil', population: 206135893},
{country: 'Pakistan', population: 194125062},
{country: 'Nigeria', population: 186988000},
{country: 'Bangladesh', population: 161006790},
{country: 'Russian Federation', population: 146599183},
{country: 'Japan', population: 126960000}
]

console.log(mostPopulatedCountries(countries, 3))
[
{country: 'China', population: 1377422166},
{country: 'India', population: 1295210000},
{country: 'United States of America', population: 323947000}
] -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ch20</title>
 </head>
 <body>
    <script> 

const countries = [
  { name: 'Finland', capital: 'Helsinki', population: 5540720, languages: ['Finnish', 'Swedish'] },
  { name: 'Sweden', capital: 'Stockholm', population: 9828655, languages: ['Swedish'] },
  { name: 'Denmark', capital: 'Copenhagen', population: 5818553, languages: ['Danish'] },
  { name: 'Norway', capital: 'Oslo', population: 5421241, languages: ['Norwegian'] },
  { name: 'Iceland', capital: 'Reykjavik', population: 348580, languages: ['Icelandic'] },
  
];

// 1. Sort countries by name, capital, and population

function sortCountriesBy(countries, key) {
  return countries.slice().sort((a, b) => {
    if (a[key] < b[key]) return -1;
    if (a[key] > b[key]) return 1;
    return 0;
  });
}

console.log('Sorted by Name:', sortCountriesBy(countries, 'name'));
console.log('Sorted by Capital:', sortCountriesBy(countries, 'capital'));
console.log('Sorted by Population:', sortCountriesBy(countries, 'population'));

// 2. Find the 10 most spoken languages

function mostSpokenLanguages(countries, limit) {
  const languageCount = countries.reduce((acc, country) => {
    country.languages.forEach(language => {
      acc[language] = (acc[language] || 0) + 1;
    });
    return acc;
  }, {});

  return Object.entries(languageCount)
    .map(([language, count]) => ({ country: language, count }))
    .sort((a, b) => b.count - a.count)
    .slice(0, limit);
}

console.log('Top 10 Most Spoken Languages:', mostSpokenLanguages(countries, 10));
console.log('Top 3 Most Spoken Languages:', mostSpokenLanguages(countries, 3));

// 3. Create a function which lists the ten most populated countries

function mostPopulatedCountries(countries, limit) {
  return countries
    .slice()
    .sort((a, b) => b.population - a.population)
    .slice(0, limit)
    .map(country => ({ country: country.name, population: country.population }));
}

console.log('Top 10 Most Populated Countries:', mostPopulatedCountries(countries, 10));
console.log('Top 3 Most Populated Countries:', mostPopulatedCountries(countries, 3));

</script>
</body>
</html>  